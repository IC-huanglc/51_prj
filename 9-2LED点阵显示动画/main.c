#include <REGX52.H>
#include "Delay1ms.h"
#include "MatrixLED.h"

//unsigned char Animation[] ={
//0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
//0xFF,0x10,0x10,0x10,0xFF,0x00,0x1E,0x29,0x29,0x29,0x19,0x00,0x00,0xFF,0x01,0x02,
//0x00,0xFF,0x01,0x02,0x00,0x7E,0x81,0x81,0x81,0x7E,0x00,0x00,0xF9,0x00,0x00,0x00,
//0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
//};

//定义code关键字后，可以把数组存到flash中，而非片上的小RAM中。
//放在flash中后，数组不能再被更改。
unsigned char code Animation[] ={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0x10,0x10,0x10,0xFF,0x00,0x1E,0x29,0x29,0x29,0x19,0x00,0x00,0xFF,0x01,0x02,
0x00,0xFF,0x01,0x02,0x00,0x7E,0x81,0x81,0x81,0x7E,0x00,0x00,0xF9,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

void main(){
	unsigned int i, j, cnt;
	MatrixLED_Init();
	while(1){
		for(i=0; i<8; i++){
			MatrixLED_ShowColumn(i, Animation[j+i]);
		}
		j++;
		if(j>40){
			j=0;
		}
	}
}